{"version":3,"sources":["userManager.js","components/PageHeader/index.js","UserContext.js","layouts/SiteHeader/index.js","components/Post/index.js","network.js","layouts/Posts/index.js","components/CommentForm/index.js","components/UserComment/index.js","components/PostDetails/index.js","layouts/SinglePost/index.js","components/NewPost/index.js","layouts/CreatePost/index.js","components/LoginForm/index.js","layouts/LoginPage/index.js","layouts/ProfilePage/index.js","App.js","reportWebVitals.js","index.js"],"names":["getToken","localStorage","getItem","saveToken","accessToken","setItem","getTokenDetails","decoded","token","jwtDecode","e","console","log","removeToken","removeItem","useStyles","makeStyles","theme","root","flexGrow","position","top","width","zIndex","grow","menuButton","marginRight","spacing","title","display","breakpoints","up","search","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","PageHeader","props","classes","useState","anchorEl","setAnchorEl","open","Boolean","setSearch","handleClose","className","AppBar","Toolbar","user","IconButton","aria-label","onClick","newPost","Link","component","titleClicked","variant","onSubmit","event","preventDefault","onSearch","InputBase","placeholder","value","onChange","target","input","inputProps","edge","aria-controls","aria-haspopup","currentTarget","Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","profile","signOut","login","UserContext","createContext","flexWrap","post","margin","SiteHeader","setUser","history","useHistory","push","maxWidth","media","maxHeight","Post","cardClicked","commentClicked","likeClicked","Card","CardHeader","avatar","Avatar","username","CardActionArea","postId","CardMedia","image","imageUrl","CardContent","Typography","description","totalLikes","totalComments","CardActions","liked","Favorite","fontSize","FavoriteBorder","Comment","Authorization","http","method","path","params","headers","axios","then","res","data","catch","error","response","Error","password","tokenData","signUp","email","savePostFile","type","file","formData","FormData","append","saveComment","text","saveLike","deleteLike","getPosts","getPost","reducer","state","action","posts","payload","map","Posts","useReducer","dispatch","location","useLocation","useEffect","URLSearchParams","get","a","network","message","onLikeClicked","find","showDetails","clsx","form","textField","buttonWrapper","flexDirection","NewPost","comment","setComment","TextField","multiline","label","rowsMax","overflow","float","marginBottom","paddingTop","otherData","boxSizing","commentForm","comments","overflowY","submitComment","SinglePost","useParams","onSubmitComment","result","onComment","header","textAlign","tabs","imagePreview","imagePreviewHeader","left","right","tabValue","setTabValue","setImageUrl","setDescription","setFile","filePreview","setFilePreview","Tabs","indicatorColor","textColor","newValue","Tab","fullWidth","accept","files","reader","FileReader","onload","readAsDataURL","htmlFor","PhotoCamera","Button","setError","onSubmitPost","Login","setUsername","setEmail","setPassword","LoginPage","details","ProfilePage","main","marginTop","App","userManager","PublicRoute","children","to","PrivateRoute","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4189451f.chunk.js","sourcesContent":["import React, {createContext, useState} from 'react'\n\nimport jwtDecode from 'jwt-decode'\n\nexport function getToken() {\n  const token = localStorage.getItem('token')\n  return token\n}\n\nexport function saveToken(accessToken) {\n  localStorage.setItem('token', accessToken)\n}\n\nexport function getTokenDetails() {\n  let decoded\n  const token = getToken()\n  if (!token) {\n    return null\n  }\n  try {\n    decoded = jwtDecode(token)\n  } catch (e) {\n    console.log(e)\n  }\n  return decoded\n}\n\nexport function removeToken() {\n  localStorage.removeItem('token')\n}\n\n","import React, { useState } from 'react';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Avatar, Link, Toolbar, IconButton, Typography, InputBase, Badge, MenuItem, Menu } from '@material-ui/core'\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MailIcon from '@material-ui/icons/Mail';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport AddIcon from '@material-ui/icons/AddCircle';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    position: \"fixed\",\n    top: 0,\n    width: \"100%\",\n    zIndex: 1000\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch',\n    },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n}));\n\nexport default function PageHeader(props) {\n  const classes = useStyles()\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n  const [search, setSearch] = useState(\"\")\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  }\n\n  const signOut = () => {\n    handleClose()\n    props.signOut()\n  }\n\n\n  const profile = () => {\n    handleClose()\n    props.profile()\n  }\n\n  const onSearch = event => {\n    event.preventDefault()\n    props.onSearch({search})\n  }\n\n\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          { !!props.user &&\n            <>\n            <IconButton\n              aria-label=\"add a new post\"\n              onClick={props.newPost}\n              color=\"inherit\"\n            >\n              <AddIcon />\n            </IconButton>\n            </>\n          }\n        \n          <Link color=\"inherit\" className={classes.title} component=\"button\" onClick={props.titleClicked} variant=\"h6\" >\n              {props.title}\n          </Link>\n          { !!props.user &&\n          <form className={classes.search} onSubmit={onSearch}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Searchâ€¦\"\n              value={search}\n              onChange={e => setSearch(e.target.value)}\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              inputProps={{ 'aria-label': 'search' }}\n            />\n          </form>\n          }\n          <div className={classes.grow} />\n          \n              {\n                props.user ?\n                <>\n                <IconButton\n              edge=\"end\"\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n                <Menu\n                id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              keepMounted\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              open={open}\n              onClose={handleClose}\n            >\n              <MenuItem onClick={profile}>Profile</MenuItem>\n              <MenuItem onClick={signOut}>Sign Out</MenuItem>\n              \n              </Menu>\n              </>\n              :\n              <Link\n                component=\"button\"\n                variant=\"body2\"\n                color=\"inherit\"\n                onClick={props.login}\n              >\n                Login\n              </Link>\n\n              }\n              \n            \n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}","import { createContext } from 'react'\n\nexport const UserContext = createContext(null)","import React, { useContext } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PageHeader from '../../components/PageHeader'\nimport clsx from 'clsx'\n\nimport { useHistory } from \"react-router-dom\"\nimport { UserContext } from '../../UserContext'\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\"\n  },\n  post: {\n    margin: 10\n  }\n})\n\nexport default function SiteHeader({user, setUser}) {\n  const history = useHistory()\n\n  const onSignOut = () => {\n    console.log(\"Sign out\")\n    setUser(null)\n    history.push(\"/\")\n  }\n\n  return (<PageHeader\n    title=\"Social Something\"\n    titleClicked={() => history.push(\"/\")}\n    signOut={onSignOut}\n    user={user}\n    onSearch={({search}) => {history.push(`/?search=${search}`)}}\n    newPost={() => history.push(\"/newPost\")}\n    profile={() => history.push(\"/profile\")}\n    login={() => history.push(\"/login\")}\n    ></PageHeader>)\n}","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Avatar, CardHeader, IconButton, Typography, Card, CardActionArea, CardActions, CardContent, CardMedia } from '@material-ui/core'\nimport { Comment, Favorite, FavoriteBorder } from '@material-ui/icons'\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 700,\n  },\n  media: {\n    maxHeight: 350,\n  }\n})\n\nexport default function Post({className, post, cardClicked, commentClicked, likeClicked}) {\n  const classes = useStyles()\n\n  return (\n    <Card className={`${classes.root} ${className}`}>\n      <CardHeader\n        avatar={\n          <Avatar className={classes.avatar}>\n            {post.user.username[0]}\n          </Avatar>\n        }\n        title={post.user.username}\n      />\n      <CardActionArea onClick={() => cardClicked({postId: post.id})}>\n        <CardMedia className={classes.media}\n          component=\"img\"\n          image={post.imageUrl}\n        />\n        <CardContent>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {post.description}\n          </Typography>\n        </CardContent>\n        <CardContent>\n          <Typography variant=\"body2\" color=\"textPrimary\" component=\"p\">\n            Liked by <b>{post.totalLikes}</b> people\n          </Typography>\n          <Typography variant=\"body2\" color=\"textPrimary\" component=\"p\">\n            <b>{post.totalComments}</b> comments\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n      <CardActions>\n        <IconButton aria-label=\"like\" onClick={() => likeClicked({postId: post.id})}>\n          {post.liked ? <Favorite fontSize=\"large\" /> : <FavoriteBorder fontSize=\"large\" /> }\n        </IconButton>\n        <IconButton aria-label=\"comment\" onClick={() => commentClicked({postId: post.id})}>\n          <Comment fontSize=\"large\" />\n        </IconButton>\n      </CardActions>\n    </Card>\n  )\n}","import axios from 'axios'\nimport { v4 as uuid } from 'uuid'\n\n\nimport { saveToken, getToken, getTokenDetails, removeToken } from './userManager'\n\nfunction token() {\n  const token = getToken()\n  if (!token) {\n    return {}\n  }\n  return { Authorization: `Bearer ${token}` }\n}\n\nfunction http({method, path, params}) {\n  console.log(token())\n  const headers = {\n    ...token(),\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n  }\n  console.log('headers', headers)\n  let promise\n  if (method == 'get' || method == 'delete') {\n    promise = axios[method](path, { headers })\n  } else {\n    promise = axios[method](path, params, { headers })\n  }\n\n  return promise\n  .then(res => res.data)\n  .catch(error => {\n    throw (error.response.data.error ? Error(error.response.data.error) : error)\n  })\n}\n\nexport const login = ({username, password}) => {\n  return http({method: 'post', path: `/api/users/login`, params: {username, password}})\n  .then(res => {\n    const { accessToken } = res\n    console.log(accessToken)\n    saveToken(accessToken)\n    const tokenData = getTokenDetails()\n    if (!tokenData) {\n      return null\n    }\n    return tokenData\n  })\n}\n\nexport const logout = () => {\n  removeToken()\n  return http({method: 'post', path: `/api/users/logout`})\n}\n\nexport const signUp = ({email, password, username, image}) => {\n  console.log(email, password, image)\n  return http({method: 'post', path: `/api/users`, params: { email, password, username }})\n  .then(res => {\n    const { accessToken } = res\n    console.log(accessToken)\n    saveToken(accessToken)\n    const tokenData = getTokenDetails()\n    if (!tokenData) {\n      return null\n    }\n    return tokenData\n  })\n\n  const formData = new FormData()\n \n  formData.append(\"avatar\", image)\n  formData.append('user', JSON.stringify({email, password, username, fullName: \"Full name\"}))\n\n  return axios.post('/api/users', formData, { headers: {'Content-Type': 'multipart/form-data', ...token()}})\n  .then(res => {\n    const { accessToken } = res.data\n    console.log(accessToken)\n    saveToken(accessToken)\n    const tokenData = getTokenDetails()\n    if (!tokenData) {\n      return null\n    }\n    return tokenData\n  })\n}\n\n// const dataURLtoFile = (dataurl, filename) => {\n//   const arr = dataurl.split(',')\n//   const mime = arr[0].match(/:(.*?);/)[1]\n//   const bstr = atob(arr[1])\n//   let n = bstr.length\n//   const u8arr = new Uint8Array(n)\n//   while (n) {\n//     u8arr[n - 1] = bstr.charCodeAt(n - 1)\n//     n -= 1 // to make eslint happy\n//   }\n//   return new File([u8arr], filename || uuid(), { type: mime })\n// }\n\nexport function savePostFile({type, file, description}) {\n  const formData = new FormData();\n  // const imageData = dataURLtoFile(file)\n  formData.append(\"image\", file)\n  formData.append('description', description)\n  formData.append('type', type)\n\n  return axios.post('/api/posts', formData, { headers: {'Content-Type': 'multipart/form-data', ...token()}})\n}\n\nexport function savePostUrl({type, imageUrl, description}) {\n\n  const data = {type, imageUrl, description}\n  return http({method: 'post', path: '/api/posts',  params: data})\n  \n}\n\nexport function saveComment({postId, text}) {\n  return http({method: 'post', path: `/api/posts/${postId}/comments`, params: {text, postId}})\n  \n}\n\nexport function saveLike({postId}) {\n  return http({method: 'post', path: `/api/posts/${postId}/likes`})\n  \n}\n\nexport function deleteLike({postId}) {\n  return http({method: 'delete', path: `/api/posts/${postId}/likes`})\n  \n}\n\nexport function likePost({postId}) {\n  return http({method: 'post', path: `/api/posts/${postId}/likes`, params: {postId}})\n  \n}\n\nexport function getPosts({search}) {\n  return http({method: 'get', path: `/api/posts?limit=11${ search ? `&search=${search}` : '' }`})\n  \n}\n\nexport function getPost({postId}) {\n  return http({method: 'get', path: `/api/posts/${postId}`})\n  .then(res => res.post)\n}\n\nexport function getComments({postId}) {\n  return http({method: 'get', path: `/api/posts/${postId}/comments`})\n  \n}\n\nexport async function me() {\n  const tokenData = getTokenDetails()\n  if (!tokenData) {\n    return null\n  }\n  return tokenData\n  // return http({method: 'get', path: `/api/users/me`})\n  // \n}","import React, { useState, useEffect, useContext, useReducer } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Post from '../../components/Post'\nimport * as network from '../../network'\nimport clsx from 'clsx'\n\nimport { useHistory, useLocation } from \"react-router-dom\"\n\nimport { getPost, deleteLike, saveLike } from '../../network'\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\"\n  },\n  post: {\n    margin: 10\n  }\n})\n\nfunction reducer(state, action) {\n  if (action.type === 'error') {\n    return {posts: null, error: action.payload}\n  }\n\n  let posts\n  switch (action.type) {\n    case 'posts':\n      posts = action.payload\n      break\n    case 'unlike':\n      posts = state.posts.map(post => {\n        if (post.id !== action.payload.postId) {\n          return post\n        }\n        return {...post, totalLikes: post.totalLikes-1, liked: false}\n      })\n      break\n    case 'like':\n      posts = state.posts.map(post => {\n        if (post.id !== action.payload.postId) {\n          return post\n        }\n        return {...post, totalLikes: post.totalLikes+1, liked: true}\n      })\n      break\n    default:\n      throw new Error();\n  }\n\n  return {\n    error: null,\n    posts: posts\n  }\n}\n\nexport default function Posts({className}) {\n  const classes = useStyles()\n  const history = useHistory()\n\n  const [state, dispatch] = useReducer(reducer, {posts: []})\n\n  let location = useLocation()\n\n  useEffect(() => {\n    let query = new URLSearchParams(location.search);\n    const search = query.get(\"search\")\n    ;(async () => {\n      try {\n        const data = await network.getPosts({search})\n        dispatch({type: \"posts\", payload: data.posts})\n      } catch (error) {\n        dispatch({type: \"error\", payload: error.message})\n      }\n    })()\n  }, [location])\n\n  const onLikeClicked = async data => {\n    try {\n      let post = state.posts.find(post => post.id === data.postId)\n      if (post.liked) {\n        await deleteLike(data)\n        dispatch({type: \"unlike\", payload: {postId: data.postId}})\n        \n      } else {\n        await saveLike(data)\n        dispatch({type: \"like\", payload: {postId: data.postId}})\n      }\n    } catch (error) {\n      dispatch({type: \"error\", payload: error.message})\n    }\n  }\n\n  \n\n  const showDetails = data => {\n    history.push(`/posts/${data.postId}`)\n  }\n\n  return (\n    <div className={clsx(classes.root, className)}>\n      { !!state.error ?\n      <p>{state.error}</p>  \n      :\n      state.posts.map(post => (\n        <Post key={post.id} className={classes.post} post={post} cardClicked={showDetails} commentClicked={showDetails} likeClicked={onLikeClicked}></Post>\n      ))\n      }\n    </div>\n  )\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { TextField, IconButton } from '@material-ui/core'\nimport SendIcon from '@material-ui/icons/Send'\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    display: \"flex\",\n  },\n  textField: {\n    flexGrow: 2\n  },\n  buttonWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  }\n}))\n\nexport default function NewPost({onSubmit}) {\n  const classes = useStyles()\n\n  const [comment, setComment] = useState(\"\")\n\n  const submit = event => {\n    event.preventDefault()\n    onSubmit({comment})\n    setComment(\"\")\n  }\n\n  return (\n      <form onSubmit={submit} className={classes.form}>\n      \n        <TextField className={classes.textField} \n        value={comment} \n        multiline \n        onChange={e => setComment(e.target.value)} \n        label=\"Add a comment\"\n        rowsMax={4}\n        variant=\"filled\"\n        ></TextField>\n        <div className={classes.buttonWrapper}><IconButton \n        type=\"submit\" \n        ><SendIcon /></IconButton></div>\n      </form>\n\n  )\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx'\nimport { Avatar, Typography } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    overflow: \"auto\",\n    // display: \"flex\"\n    \n  },\n  avatar : {\n    float: \"left\",\n    marginRight: 10,\n    marginBottom: 5\n  },\n  text: {\n    paddingTop: 5,\n  }\n}))\n\nexport default function Comment({comment, className}) {\n  const classes = useStyles()\n\n  return (\n    <div className={clsx(classes.root, className)}>\n      <Avatar className={classes.avatar}>{comment.user.username[0]}</Avatar>\n      <Typography className={classes.text} variant=\"body2\" color=\"textPrimary\" component=\"p\">\n        <b>{comment.user.username}</b> {comment.text}\n      </Typography>\n    </div>\n  )\n}","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Avatar, CardHeader, IconButton, Typography, Card, CardActionArea, CardActions, CardContent, CardMedia } from '@material-ui/core'\nimport { Favorite, FavoriteBorder } from '@material-ui/icons'\n\nimport CommentForm from '../CommentForm'\nimport UserComment from '../UserComment'\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 1200,\n    height: 600,\n    display: \"flex\",\n  },\n  media: {\n    width: \"60%\"\n  },\n  otherData: {\n    width: \"40%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    boxSizing: \"border-box\",\n    justifyContent: \"space-between\",\n    margin: \"0 10px\",\n  },\n  commentForm: {\n    width: \"100%\"\n  },\n  comment: {\n    margin: \"10px 0\"\n  },\n  comments: {\n    overflowY: \"scroll\"\n  }\n})\n\nexport default function Post({className, post, submitComment, likeClicked}) {\n  const classes = useStyles()\n\n  const onComment = data => {\n    submitComment({postId: post.id, text: data.comment})\n  }\n\n  return (\n    <Card className={`${classes.root} ${className}`}>\n\n        <CardMedia className={classes.media}\n          component=\"img\"\n          image={post.imageUrl}\n        />\n\n        <div className={classes.otherData}>\n          <CardHeader\n          avatar={\n            <Avatar className={classes.avatar}>\n              {post.user.username[0]}\n            </Avatar>\n          }\n          title={post.user.username}\n        />\n        <CardContent className={classes.comments}>\n          \n          {post.comments.map(comment => (\n            <UserComment key={comment.id} className={classes.comment} comment={comment}></UserComment>\n          ))}\n\n        </CardContent>\n        <div>\n        <CardActions>\n        <IconButton aria-label=\"like\" className={classes.margin} onClick={() => likeClicked({postId: post.id})}>\n          {post.liked ? <Favorite fontSize=\"large\" /> : <FavoriteBorder fontSize=\"large\" /> }\n        </IconButton>\n        <Typography variant=\"body2\" color=\"textPrimary\" component=\"p\">\n          Liked by <b>{post.totalLikes}</b> people\n        </Typography>\n        <Typography variant=\"body2\" color=\"textPrimary\" component=\"p\">\n          <b>{post.totalComments}</b> comments\n        </Typography>\n      </CardActions>\n      <CommentForm className={classes.commentForm} onSubmit={onComment}></CommentForm>\n      </div>\n      </div>\n      \n    </Card>\n  )\n}","import React, {useState, useEffect, useReducer} from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PostDetails from '../../components/PostDetails'\nimport clsx from 'clsx'\n\nimport { useHistory, useParams } from \"react-router-dom\"\n\nimport { getPost, saveComment, saveLike, deleteLike } from '../../network'\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\"\n  },\n  post: {\n    margin: 10\n  }\n})\n\nfunction reducer(state, action) {\n  if (action.type === 'error') {\n    return {post: null, error: action.payload}\n  }\n\n  let post \n  switch (action.type) {\n    case 'post':\n      post = action.payload\n      break\n    case 'comment':\n      post = {\n        ...state.post,\n        totalComments: state.post.totalComments+1,\n        comments: [action.payload.comment, ...state.post.comments]\n      }\n      break\n    case 'unlike':\n      post = {\n        ...state.post, totalLikes: state.post.totalLikes-1, liked: false\n      }\n      break\n    case 'like':\n      post = {\n        ...state.post, totalLikes: state.post.totalLikes+1, liked: true\n      }\n      break\n    default:\n      throw new Error();\n  }\n\n  return {\n    error: null,\n    post: post\n  }\n}\n\nexport default function SinglePost({className}) {\n  const [state, dispatch] = useReducer(reducer, {});\n\n  let { postId } = useParams()\n\n  const classes = useStyles()\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const post = await getPost({postId})\n        dispatch({type: 'post', payload: post})\n      } catch (error) {\n        dispatch({type: 'error', payload: error.message})\n      }\n    })()\n  }, [])\n\n  const onSubmitComment = async data => {\n    try {\n      const result = await saveComment(data)\n      dispatch({type: 'comment', payload: result})\n    } catch (error) {\n      dispatch({type: 'error', payload: error.message})\n    }\n  }\n\n  const onLikeClicked = async data => {\n    try {\n      if (state.post.liked) {\n        await deleteLike(data)\n        dispatch({type: 'unlike'})\n      } else {\n        await saveLike(data)\n        dispatch({type: 'like'})\n      }\n    } catch (error) {\n      console.log(error)\n      dispatch({type: 'error', payload: error.message})\n    }\n  }\n\n  return (\n    <div className={clsx(classes.root, className)}>\n      { !!state.post ? \n      <PostDetails post={state.post} onComment={onSubmitComment} likeClicked={onLikeClicked} submitComment={onSubmitComment}></PostDetails>\n      :\n      !!state.error ?\n      <p>{state.error}</p>\n      :\n      <p>Loading...</p>\n      }\n    </div>\n  )\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { TextField, Card, Tabs, Close, Tab, CardContent, CardHeader, Button, IconButton, Typography, CardMedia } from '@material-ui/core'\nimport { PhotoCamera } from '@material-ui/icons'\nimport CloseIcon from '@material-ui/icons/Close'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: 600,\n    padding: 10,\n  },\n  header: {\n    textAlign: \"center\"\n  },\n  form: {\n    '& > *': {\n      margin: \"10px 0\"\n    },\n  },\n  input: {\n    display: 'none',\n  },\n  tabs: {\n    margin: \"auto\"\n  },\n  imagePreview: {\n    maxWidth: 200,\n    maxHeight: 300,\n    margin: 0,\n    position: \"relative\"\n  },\n  imagePreviewHeader: {\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    right: 0,\n    padding: 0\n  }\n}))\n\nexport default function NewPost({onSubmit, onClose, error}) {\n  const classes = useStyles()\n\n  const [tabValue, setTabValue] = useState(0)\n  const [imageUrl, setImageUrl] = useState(\"\")\n  const [description, setDescription] = useState(\"\")\n\n  const [file, setFile] = useState();\n  const [filePreview, setFilePreview] = useState();\n\n  const deleteImage = image => {\n    setFile(null)\n    setFilePreview(null)\n  }\n\tconst fileSelected = (event) => {\n    const file = event.target.files[0]\n\t\tsetFile(file)\n    const reader = new FileReader()\n    reader.onload = e => setFilePreview(e.target.result)\n    reader.readAsDataURL(file)\n\t}\n\n  const submit = event => {\n    event.preventDefault()\n    if (tabValue === 0) {\n      onSubmit({type: \"url\", imageUrl, description})\n    } else {\n      onSubmit({type: \"file\", file, description})\n    }\n  }\n\n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue)\n  }\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader className={classes.header}\n        title=\"Post Image\"\n        action={\n          <IconButton aria-label=\"close\" onClick={onClose}>\n            <CloseIcon />\n          </IconButton>\n        }\n      />\n      <CardContent>\n      <Tabs \n        variant=\"fullWidth\"\n        className={classes.tabs}\n        value={tabValue}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        onChange={handleTabChange}\n      >\n        <Tab label=\"Image URL\" />\n        <Tab label=\"File Upload\" />\n      </Tabs>\n      </CardContent>\n      <CardContent>\n      <form onSubmit={submit} className={classes.form}>\n        {tabValue === 0 ?\n        <TextField \n        value={imageUrl} \n        onChange={e => setImageUrl(e.target.value)} \n        fullWidth\n        label=\"Image URL\"\n        variant=\"filled\"\n        ></TextField>\n        :\n        <>\n        <input accept=\"image/*\" className={classes.input} onChange={fileSelected} id=\"icon-button-file\" type=\"file\" />\n        <label htmlFor=\"icon-button-file\">\n          <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\n            <PhotoCamera />\n          </IconButton>\n        </label>\n        {!!file && \n          <Card className={classes.imagePreview}>\n            <CardHeader className={classes.imagePreviewHeader}\n              action={\n                <IconButton aria-label=\"close\" onClick={deleteImage}>\n                  <CloseIcon />\n                </IconButton>\n              }\n            />\n            <CardMedia\n              component=\"img\"\n              image={filePreview}\n            />\n          </Card>\n        }\n        </>\n        }\n        <TextField \n        value={description} \n        multiline \n        fullWidth\n        onChange={e => setDescription(e.target.value)} \n        label=\"Description\"\n        rowsMax={4}\n        variant=\"filled\"\n        ></TextField>\n        { !!error && <Typography>{error}</Typography>}\n        <Button \n        type=\"submit\" \n        fullWidth\n        color=\"primary\"\n        >Post</Button>\n      </form>\n      </CardContent>\n    </Card>\n  )\n}","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport NewPost from '../../components/NewPost'\nimport clsx from 'clsx'\n\nimport { savePostUrl, savePostFile } from '../../network'\n\nimport { useHistory } from \"react-router-dom\"\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\"\n  },\n  post: {\n    margin: 10\n  }\n})\n\nexport default function Posts({className}) {\n  const classes = useStyles()\n  const history = useHistory()\n\n  const [error, setError] = useState()\n\n  const onSubmitPost = async data => {\n    setError(null)\n    try {\n      let result \n      switch (data.type) {\n        case 'url':\n          result = await savePostUrl(data)\n          break;\n        case 'file':\n          result = await savePostFile(data)\n          break;\n        default:\n          throw Error(\"Unexpected Error\")\n      }\n      console.log(result)\n      history.push(`/`)\n    } catch (error) {\n      setError(error.message)\n    }\n    \n  }\n\n  return (\n    <div className={clsx(classes.root, className)}>\n      <NewPost\n      error={error}\n      onClose={() => history.push(\"/\")}\n      onSubmit={onSubmitPost}\n      ></NewPost>\n    </div>\n  )\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { TextField, Card, Tabs, Tab, CardContent, CardHeader, Button, IconButton, Typography } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 600,\n    padding: 10,\n  },\n  header: {\n    textAlign: \"center\"\n  },\n  form: {\n    '& > *': {\n      margin: \"10px 0\"\n    },\n  },\n  input: {\n    display: 'none',\n  },\n  tabs: {\n    margin: \"auto\"\n  }\n}))\n\nexport default function Login({onSubmit, onClose, error}) {\n  const classes = useStyles()\n\n  const [tabValue, setTabValue] = useState(0)\n  const [username, setUsername] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n\n  const submit = event => {\n    event.preventDefault()\n    if (tabValue === 0) {\n      onSubmit({type: \"login\", username, password})\n    } else {\n      onSubmit({type: \"signUp\", email, username, password})\n    }\n  }\n\n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue)\n  }\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader className={classes.header}\n        title={tabValue === 0 ? \"Login\" : \"Sign Up\"}\n        action={\n          <IconButton aria-label=\"close\" onClick={onClose}>\n            <CloseIcon />\n          </IconButton>\n        }\n      />\n      <CardContent>\n      <Tabs \n        variant=\"fullWidth\"\n        className={classes.tabs}\n        value={tabValue}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        onChange={handleTabChange}\n      >\n        <Tab label=\"Login\" />\n        <Tab label=\"Sign Up\" />\n      </Tabs>\n      </CardContent>\n      <CardContent>\n      <form onSubmit={submit} className={classes.form}>\n        {tabValue === 1 &&\n        <TextField \n        value={email} \n        onChange={e => setEmail(e.target.value)} \n        fullWidth\n        label=\"Email\"\n        variant=\"filled\"\n        ></TextField>\n        \n        }\n        <TextField \n        value={username}  \n        fullWidth\n        onChange={e => setUsername(e.target.value)} \n        label=\"username\"\n        variant=\"filled\"\n        ></TextField>\n        <TextField \n        value={password}  \n        type=\"password\"\n        fullWidth\n        onChange={e => setPassword(e.target.value)} \n        label=\"password\"\n        variant=\"filled\"\n        ></TextField>\n\n      {!!error && <Typography>{error}</Typography>}\n        <Button \n        type=\"submit\" \n        fullWidth\n        color=\"primary\"\n        >Submit</Button>\n      </form>\n      \n      </CardContent>\n    </Card>\n  )\n}","import React, { useEffect, useState, useContext } from 'react'\nimport * as network from '../../network'\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n  useHistory\n} from \"react-router-dom\"\n\nimport LoginForm from '../../components/LoginForm'\n\nexport default function LoginPage({setUser}) {\n  const history = useHistory()\n  const [error, setError] = useState()\n\n  async function login(details) {\n\n    try {\n      let result \n      if (details.type === \"login\") {\n        result = await network.login(details)\n      }\n      if (details.type === \"signUp\") {\n        result = await network.signUp(details)\n      }\n      setError(null)\n      console.log(result)\n      setUser(result)\n      history.push(\"/\")\n    } catch (error) {\n      setError(error.message)\n      setUser(null)\n    }\n\n    \n  }\n\n  return (\n    <LoginForm\n    error={ error }\n    onSubmit={login}\n    onClose={() => history.push(\"/\")}\n    ></LoginForm>\n  )\n}","import React, { useContext } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Typography } from '@material-ui/core'\nimport clsx from 'clsx'\n\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"column\"\n  }\n})\n\nexport default function ProfilePage({user}) {\n  const classes = useStyles()\n  console.log(user)\n  return (\n  <div className={classes.root}>\n    <Typography>{user.email}</Typography>\n    <Typography>{user.username}</Typography>\n  </div>\n  )\n}","import React, { useEffect, useState } from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n  useHistory\n} from \"react-router-dom\"\n\nimport { makeStyles } from '@material-ui/core/styles'\n\n\nimport * as userManager from './userManager'\n\nimport SiteHeader from './layouts/SiteHeader'\nimport Posts from './layouts/Posts'\nimport SinglePost from './layouts/SinglePost'\nimport CreatePost from './layouts/CreatePost'\nimport LoginPage from './layouts/LoginPage'\nimport ProfilePage from './layouts/ProfilePage'\nimport { UserContext } from './UserContext'\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    marginTop: 100,\n    \"& > *\": {\n      margin: \"auto\"\n    }\n  }\n}))\n\nexport default function App() {\n  \n  const classes = useStyles()\n\n  const [user, setUser] = useState(userManager.getTokenDetails())\n \n  useEffect(() => {\n    if (!user) {\n      userManager.removeToken()\n    }\n  }, [user])\n\n  function PublicRoute({ path, children }) {\n    return (\n      <Route path={path}>\n        {!user ?\n          children\n          :\n          <Redirect to='/' />\n        }\n      </Route>\n    )\n  }\n  \n  function PrivateRoute({ path, children }) {\n    return (\n      <Route path={path}>\n        {!!user ?\n          children\n          :\n          <Redirect to='/login' />\n        }\n      </Route>\n    )\n  }\n  \n  \n\n  return (\n    <Router>\n      <UserContext.Provider>\n        <SiteHeader user={user} setUser={setUser}></SiteHeader>\n        <main className={classes.main}>\n          <Switch>\n            <PublicRoute path=\"/login\">\n              <LoginPage setUser={setUser}></LoginPage>\n            </PublicRoute>\n            <PrivateRoute path=\"/newPost\">\n              <CreatePost user={user}></CreatePost>\n            </PrivateRoute>\n            <PrivateRoute path=\"/posts/:postId\">\n              <SinglePost user={user}></SinglePost>\n            </PrivateRoute>\n            <PrivateRoute path=\"/profile\">\n              <ProfilePage user={user}></ProfilePage>\n            </PrivateRoute>\n            <PrivateRoute path=\"/\">\n              <Posts user={user}></Posts>\n            </PrivateRoute>\n          </Switch>\n        </main>\n      </UserContext.Provider>\n    </Router>\n  )\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}