(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{107:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),s=(a(107),a(10)),i=a(12),l=a(37),u=a(174),p=a(85);function j(){return localStorage.getItem("token")}function d(e){localStorage.setItem("token",e)}function b(){var e,t=j();if(!t)return null;try{e=Object(p.a)(t)}catch(a){console.log(a)}return e}function m(){localStorage.removeItem("token")}var h=a(35),O=a(19),f=a(177),x=a(179),g=a(180),v=a(181),y=a(196),k=a(94),w=a(197),C=a(91),S=a.n(C),N=a(92),I=a.n(N),L=a(90),P=a.n(L),U=a(2),W=Object(u.a)((function(e){return{root:{flexGrow:1,position:"fixed",top:0,width:"100%",zIndex:1e3},grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(h.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(h.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(O.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(O.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(h.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(h.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(h.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function F(e){var t=W(),a=Object(n.useState)(null),r=Object(s.a)(a,2),c=r[0],o=r[1],i=Boolean(c),l=Object(n.useState)(""),u=Object(s.a)(l,2),p=u[0],j=u[1],d=function(){o(null)};return Object(U.jsx)("div",{className:t.root,children:Object(U.jsx)(f.a,{position:"static",children:Object(U.jsxs)(x.a,{children:[!!e.user&&Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(g.a,{"aria-label":"add a new post",onClick:e.newPost,color:"inherit",children:Object(U.jsx)(P.a,{})})}),Object(U.jsx)(v.a,{color:"inherit",className:t.title,component:"button",onClick:e.titleClicked,variant:"h6",children:e.title}),!!e.user&&Object(U.jsxs)("form",{className:t.search,onSubmit:function(t){t.preventDefault(),e.onSearch({search:p})},children:[Object(U.jsx)("div",{className:t.searchIcon,children:Object(U.jsx)(S.a,{})}),Object(U.jsx)(y.a,{placeholder:"Search\u2026",value:p,onChange:function(e){return j(e.target.value)},classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}})]}),Object(U.jsx)("div",{className:t.grow}),e.user?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(g.a,{edge:"end","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit",children:Object(U.jsx)(I.a,{})}),Object(U.jsxs)(k.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:d,children:[Object(U.jsx)(w.a,{onClick:function(){d(),e.profile()},children:"Profile"}),Object(U.jsx)(w.a,{onClick:function(){d(),e.signOut()},children:"Sign Out"})]})]}):Object(U.jsx)(v.a,{component:"button",variant:"body2",color:"inherit",onClick:e.login,children:"Login"})]})})})}var D=a(4),R=Object(n.createContext)(null);Object(u.a)({root:{width:"100%",display:"flex",justifyContent:"center",flexWrap:"wrap"},post:{margin:10}});function E(e){var t=e.user,a=e.setUser,n=Object(i.g)();return Object(U.jsx)(F,{title:"Social Something",titleClicked:function(){return n.push("/")},signOut:function(){console.log("Sign out"),a(null),n.push("/")},user:t,onSearch:function(e){var t=e.search;n.push("/?search=".concat(t))},newPost:function(){return n.push("/newPost")},profile:function(){return n.push("/profile")},login:function(){return n.push("/login")}})}var z=a(14),T=a.n(z),A=a(23),B=a(17),M=a(182),H=a(183),G=a(198),J=a(184),Y=a(185),q=a(186),K=a(57),Q=a(187),V=a(188),X=a(189),Z=a(190),$=Object(u.a)({root:{maxWidth:700},media:{maxHeight:350}});function _(e){var t=e.className,a=e.post,n=e.cardClicked,r=e.commentClicked,c=e.likeClicked,o=$();return Object(U.jsxs)(M.a,{className:"".concat(o.root," ").concat(t),children:[Object(U.jsx)(H.a,{avatar:Object(U.jsx)(G.a,{className:o.avatar,children:a.user.username[0]}),title:a.user.username}),Object(U.jsxs)(J.a,{onClick:function(){return n({postId:a.id})},children:[Object(U.jsx)(Y.a,{className:o.media,component:"img",image:a.imageUrl}),Object(U.jsx)(q.a,{children:Object(U.jsx)(K.a,{variant:"body2",color:"textSecondary",component:"p",children:a.description})}),Object(U.jsxs)(q.a,{children:[Object(U.jsxs)(K.a,{variant:"body2",color:"textPrimary",component:"p",children:["Liked by ",Object(U.jsx)("b",{children:a.totalLikes})," people"]}),Object(U.jsxs)(K.a,{variant:"body2",color:"textPrimary",component:"p",children:[Object(U.jsx)("b",{children:a.totalComments})," comments"]})]})]}),Object(U.jsxs)(Q.a,{children:[Object(U.jsx)(g.a,{"aria-label":"like",onClick:function(){return c({postId:a.id})},children:a.liked?Object(U.jsx)(V.a,{fontSize:"large"}):Object(U.jsx)(X.a,{fontSize:"large"})}),Object(U.jsx)(g.a,{"aria-label":"comment",onClick:function(){return r({postId:a.id})},children:Object(U.jsx)(Z.a,{fontSize:"large"})})]})]})}var ee=a(56),te=a.n(ee);a(138);function ae(){var e=j();return e?{Authorization:"Bearer ".concat(e)}:{}}function ne(e){var t=e.method,a=e.path,n=e.params;console.log(ae());var r=Object(B.a)(Object(B.a)({},ae()),{},{Accept:"application/json","Content-Type":"application/json"});return console.log("headers",r),("get"==t||"delete"==t?te.a[t](a,{headers:r}):te.a[t](a,n,{headers:r})).then((function(e){return e.data})).catch((function(e){throw e.response.data.error?Error(e.response.data.error):e}))}var re=function(e){return ne({method:"post",path:"/api/users/login",params:{username:e.username,password:e.password}}).then((function(e){var t=e.accessToken;console.log(t),d(t);var a=b();return a||null}))},ce=function(e){var t=e.email,a=e.password,n=e.username,r=e.image;return console.log(t,a,r),ne({method:"post",path:"/api/users",params:{email:t,password:a,username:n}}).then((function(e){var t=e.accessToken;console.log(t),d(t);var a=b();return a||null}))};function oe(e){var t=e.type,a=e.file,n=e.description,r=new FormData;return r.append("image",a),r.append("description",n),r.append("type",t),te.a.post("/api/posts",r,{headers:Object(B.a)({"Content-Type":"multipart/form-data"},ae())})}function se(e){var t=e.postId,a=e.text;return ne({method:"post",path:"/api/posts/".concat(t,"/comments"),params:{text:a,postId:t}})}function ie(e){var t=e.postId;return ne({method:"post",path:"/api/posts/".concat(t,"/likes")})}function le(e){var t=e.postId;return ne({method:"delete",path:"/api/posts/".concat(t,"/likes")})}function ue(e){var t=e.search;return ne({method:"get",path:"/api/posts?limit=11".concat(t?"&search=".concat(t):"")})}function pe(e){var t=e.postId;return ne({method:"get",path:"/api/posts/".concat(t)}).then((function(e){return e.post}))}var je=Object(u.a)({root:{width:"100%",display:"flex",justifyContent:"center",flexWrap:"wrap"},post:{margin:10}});function de(e,t){if("error"===t.type)return{posts:null,error:t.payload};var a;switch(t.type){case"posts":a=t.payload;break;case"unlike":a=e.posts.map((function(e){return e.id!==t.payload.postId?e:Object(B.a)(Object(B.a)({},e),{},{totalLikes:e.totalLikes-1,liked:!1})}));break;case"like":a=e.posts.map((function(e){return e.id!==t.payload.postId?e:Object(B.a)(Object(B.a)({},e),{},{totalLikes:e.totalLikes+1,liked:!0})}));break;default:throw new Error}return{error:null,posts:a}}function be(e){var t=e.className,a=je(),r=Object(i.g)(),c=Object(n.useReducer)(de,{posts:[]}),o=Object(s.a)(c,2),l=o[0],u=o[1],p=Object(i.h)();Object(n.useEffect)((function(){var e=new URLSearchParams(p.search).get("search");Object(A.a)(T.a.mark((function t(){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue({search:e});case 3:a=t.sent,u({type:"posts",payload:a.posts}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),u({type:"error",payload:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[p]);var j=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!l.posts.find((function(e){return e.id===t.postId})).liked){e.next=8;break}return e.next=5,le(t);case 5:u({type:"unlike",payload:{postId:t.postId}}),e.next=11;break;case 8:return e.next=10,ie(t);case 10:u({type:"like",payload:{postId:t.postId}});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),u({type:"error",payload:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){r.push("/posts/".concat(e.postId))};return Object(U.jsx)("div",{className:Object(D.a)(a.root,t),children:l.error?Object(U.jsx)("p",{children:l.error}):l.posts.map((function(e){return Object(U.jsx)(_,{className:a.post,post:e,cardClicked:d,commentClicked:d,likeClicked:j},e.id)}))})}var me=a(95),he=a(194),Oe=a(93),fe=a.n(Oe),xe=Object(u.a)((function(e){return{form:{display:"flex"},textField:{flexGrow:2},buttonWrapper:{display:"flex",flexDirection:"column",justifyContent:"center"}}}));function ge(e){var t=e.onSubmit,a=xe(),r=Object(n.useState)(""),c=Object(s.a)(r,2),o=c[0],i=c[1];return Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({comment:o}),i("")},className:a.form,children:[Object(U.jsx)(he.a,{className:a.textField,value:o,multiline:!0,onChange:function(e){return i(e.target.value)},label:"Add a comment",rowsMax:4,variant:"filled"}),Object(U.jsx)("div",{className:a.buttonWrapper,children:Object(U.jsx)(g.a,{type:"submit",children:Object(U.jsx)(fe.a,{})})})]})}var ve=Object(u.a)((function(e){return{root:{overflow:"auto"},avatar:{float:"left",marginRight:10,marginBottom:5},text:{paddingTop:5}}}));function ye(e){var t=e.comment,a=e.className,n=ve();return Object(U.jsxs)("div",{className:Object(D.a)(n.root,a),children:[Object(U.jsx)(G.a,{className:n.avatar,children:t.user.username[0]}),Object(U.jsxs)(K.a,{className:n.text,variant:"body2",color:"textPrimary",component:"p",children:[Object(U.jsx)("b",{children:t.user.username})," ",t.text]})]})}var ke=Object(u.a)({root:{maxWidth:1200,height:600,display:"flex"},media:{width:"60%"},otherData:{width:"40%",display:"flex",flexDirection:"column",boxSizing:"border-box",justifyContent:"space-between",margin:"0 10px"},commentForm:{width:"100%"},comment:{margin:"10px 0"},comments:{overflowY:"scroll"}});function we(e){var t=e.className,a=e.post,n=e.submitComment,r=e.likeClicked,c=ke();return Object(U.jsxs)(M.a,{className:"".concat(c.root," ").concat(t),children:[Object(U.jsx)(Y.a,{className:c.media,component:"img",image:a.imageUrl}),Object(U.jsxs)("div",{className:c.otherData,children:[Object(U.jsx)(H.a,{avatar:Object(U.jsx)(G.a,{className:c.avatar,children:a.user.username[0]}),title:a.user.username}),Object(U.jsx)(q.a,{className:c.comments,children:a.comments.map((function(e){return Object(U.jsx)(ye,{className:c.comment,comment:e},e.id)}))}),Object(U.jsxs)("div",{children:[Object(U.jsxs)(Q.a,{children:[Object(U.jsx)(g.a,{"aria-label":"like",className:c.margin,onClick:function(){return r({postId:a.id})},children:a.liked?Object(U.jsx)(V.a,{fontSize:"large"}):Object(U.jsx)(X.a,{fontSize:"large"})}),Object(U.jsxs)(K.a,{variant:"body2",color:"textPrimary",component:"p",children:["Liked by ",Object(U.jsx)("b",{children:a.totalLikes})," people"]}),Object(U.jsxs)(K.a,{variant:"body2",color:"textPrimary",component:"p",children:[Object(U.jsx)("b",{children:a.totalComments})," comments"]})]}),Object(U.jsx)(ge,{className:c.commentForm,onSubmit:function(e){n({postId:a.id,text:e.comment})}})]})]})]})}var Ce=Object(u.a)({root:{width:"100%",display:"flex",justifyContent:"center",flexWrap:"wrap"},post:{margin:10}});function Se(e,t){if("error"===t.type)return{post:null,error:t.payload};var a;switch(t.type){case"post":a=t.payload;break;case"comment":a=Object(B.a)(Object(B.a)({},e.post),{},{totalComments:e.post.totalComments+1,comments:[t.payload.comment].concat(Object(me.a)(e.post.comments))});break;case"unlike":a=Object(B.a)(Object(B.a)({},e.post),{},{totalLikes:e.post.totalLikes-1,liked:!1});break;case"like":a=Object(B.a)(Object(B.a)({},e.post),{},{totalLikes:e.post.totalLikes+1,liked:!0});break;default:throw new Error}return{error:null,post:a}}function Ne(e){var t=e.className,a=Object(n.useReducer)(Se,{}),r=Object(s.a)(a,2),c=r[0],o=r[1],l=Object(i.i)().postId,u=Ce();Object(n.useEffect)((function(){Object(A.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe({postId:l});case 3:t=e.sent,o({type:"post",payload:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"error",payload:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]);var p=function(){var e=Object(A.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se(t);case 3:a=e.sent,o({type:"comment",payload:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"error",payload:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(A.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!c.post.liked){e.next=7;break}return e.next=4,le(t);case 4:o({type:"unlike"}),e.next=10;break;case 7:return e.next=9,ie(t);case 9:o({type:"like"});case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),o({type:"error",payload:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsx)("div",{className:Object(D.a)(u.root,t),children:c.post?Object(U.jsx)(we,{post:c.post,onComment:p,likeClicked:j,submitComment:p}):c.error?Object(U.jsx)("p",{children:c.error}):Object(U.jsx)("p",{children:"Loading..."})})}var Ie=a(195),Le=a(191),Pe=a(193),Ue=a(192),We=a(55),Fe=a.n(We),De=Object(u.a)((function(e){return{root:{width:600,padding:10},header:{textAlign:"center"},form:{"& > *":{margin:"10px 0"}},input:{display:"none"},tabs:{margin:"auto"},imagePreview:{maxWidth:200,maxHeight:300,margin:0,position:"relative"},imagePreviewHeader:{position:"absolute",left:0,top:0,right:0,padding:0}}}));function Re(e){var t=e.onSubmit,a=e.onClose,r=e.error,c=De(),o=Object(n.useState)(0),i=Object(s.a)(o,2),l=i[0],u=i[1],p=Object(n.useState)(""),j=Object(s.a)(p,2),d=j[0],b=j[1],m=Object(n.useState)(""),h=Object(s.a)(m,2),O=h[0],f=h[1],x=Object(n.useState)(),v=Object(s.a)(x,2),y=v[0],k=v[1],w=Object(n.useState)(),C=Object(s.a)(w,2),S=C[0],N=C[1];return Object(U.jsxs)(M.a,{className:c.root,children:[Object(U.jsx)(H.a,{className:c.header,title:"Post Image",action:Object(U.jsx)(g.a,{"aria-label":"close",onClick:a,children:Object(U.jsx)(Fe.a,{})})}),Object(U.jsx)(q.a,{children:Object(U.jsxs)(Ie.a,{variant:"fullWidth",className:c.tabs,value:l,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){u(t)},children:[Object(U.jsx)(Le.a,{label:"Image URL"}),Object(U.jsx)(Le.a,{label:"File Upload"})]})}),Object(U.jsx)(q.a,{children:Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(0===l?{type:"url",imageUrl:d,description:O}:{type:"file",file:y,description:O})},className:c.form,children:[0===l?Object(U.jsx)(he.a,{value:d,onChange:function(e){return b(e.target.value)},fullWidth:!0,label:"Image URL",variant:"filled"}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("input",{accept:"image/*",className:c.input,onChange:function(e){var t=e.target.files[0];k(t);var a=new FileReader;a.onload=function(e){return N(e.target.result)},a.readAsDataURL(t)},id:"icon-button-file",type:"file"}),Object(U.jsx)("label",{htmlFor:"icon-button-file",children:Object(U.jsx)(g.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(U.jsx)(Ue.a,{})})}),!!y&&Object(U.jsxs)(M.a,{className:c.imagePreview,children:[Object(U.jsx)(H.a,{className:c.imagePreviewHeader,action:Object(U.jsx)(g.a,{"aria-label":"close",onClick:function(e){k(null),N(null)},children:Object(U.jsx)(Fe.a,{})})}),Object(U.jsx)(Y.a,{component:"img",image:S})]})]}),Object(U.jsx)(he.a,{value:O,multiline:!0,fullWidth:!0,onChange:function(e){return f(e.target.value)},label:"Description",rowsMax:4,variant:"filled"}),!!r&&Object(U.jsx)(K.a,{children:r}),Object(U.jsx)(Pe.a,{type:"submit",fullWidth:!0,color:"primary",children:"Post"})]})})]})}var Ee=Object(u.a)({root:{width:"100%",display:"flex",justifyContent:"center",flexWrap:"wrap"},post:{margin:10}});function ze(e){var t=e.className,a=Ee(),r=Object(i.g)(),c=Object(n.useState)(),o=Object(s.a)(c,2),l=o[0],u=o[1],p=function(){var e=Object(A.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(null),e.prev=1,e.t0=t.type,e.next="url"===e.t0?5:"file"===e.t0?9:13;break;case 5:return e.next=7,ne({method:"post",path:"/api/posts",params:{type:(n=t).type,imageUrl:n.imageUrl,description:n.description}});case 7:return a=e.sent,e.abrupt("break",14);case 9:return e.next=11,oe(t);case 11:return a=e.sent,e.abrupt("break",14);case 13:throw Error("Unexpected Error");case 14:console.log(a),r.push("/"),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(1),u(e.t1.message);case 21:case"end":return e.stop()}var n}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsx)("div",{className:Object(D.a)(a.root,t),children:Object(U.jsx)(Re,{error:l,onClose:function(){return r.push("/")},onSubmit:p})})}var Te=Object(u.a)((function(e){return{root:{maxWidth:600,padding:10},header:{textAlign:"center"},form:{"& > *":{margin:"10px 0"}},input:{display:"none"},tabs:{margin:"auto"}}}));function Ae(e){var t=e.onSubmit,a=e.onClose,r=e.error,c=Te(),o=Object(n.useState)(0),i=Object(s.a)(o,2),l=i[0],u=i[1],p=Object(n.useState)(""),j=Object(s.a)(p,2),d=j[0],b=j[1],m=Object(n.useState)(""),h=Object(s.a)(m,2),O=h[0],f=h[1],x=Object(n.useState)(""),v=Object(s.a)(x,2),y=v[0],k=v[1];return Object(U.jsxs)(M.a,{className:c.root,children:[Object(U.jsx)(H.a,{className:c.header,title:0===l?"Login":"Sign Up",action:Object(U.jsx)(g.a,{"aria-label":"close",onClick:a,children:Object(U.jsx)(Fe.a,{})})}),Object(U.jsx)(q.a,{children:Object(U.jsxs)(Ie.a,{variant:"fullWidth",className:c.tabs,value:l,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){u(t)},children:[Object(U.jsx)(Le.a,{label:"Login"}),Object(U.jsx)(Le.a,{label:"Sign Up"})]})}),Object(U.jsx)(q.a,{children:Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(0===l?{type:"login",username:d,password:y}:{type:"signUp",email:O,username:d,password:y})},className:c.form,children:[1===l&&Object(U.jsx)(he.a,{value:O,onChange:function(e){return f(e.target.value)},fullWidth:!0,label:"Email",variant:"filled"}),Object(U.jsx)(he.a,{value:d,fullWidth:!0,onChange:function(e){return b(e.target.value)},label:"username",variant:"filled"}),Object(U.jsx)(he.a,{value:y,type:"password",fullWidth:!0,onChange:function(e){return k(e.target.value)},label:"password",variant:"filled"}),!!r&&Object(U.jsx)(K.a,{children:r}),Object(U.jsx)(Pe.a,{type:"submit",fullWidth:!0,color:"primary",children:"Submit"})]})})]})}function Be(e){var t=e.setUser,a=Object(i.g)(),r=Object(n.useState)(),c=Object(s.a)(r,2),o=c[0],l=c[1];function u(){return(u=Object(A.a)(T.a.mark((function e(n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"login"!==n.type){e.next=5;break}return e.next=4,re(n);case 4:r=e.sent;case 5:if("signUp"!==n.type){e.next=9;break}return e.next=8,ce(n);case 8:r=e.sent;case 9:l(null),console.log(r),t(r),a.push("/"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),l(e.t0.message),t(null);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}return Object(U.jsx)(Ae,{error:o,onSubmit:function(e){return u.apply(this,arguments)},onClose:function(){return a.push("/")}})}var Me=Object(u.a)({root:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}});function He(e){var t=e.user,a=Me();return console.log(t),Object(U.jsxs)("div",{className:a.root,children:[Object(U.jsx)(K.a,{children:t.email}),Object(U.jsx)(K.a,{children:t.username})]})}var Ge=Object(u.a)((function(e){return{main:{marginTop:100,"& > *":{margin:"auto"}}}}));function Je(){var e=Ge(),t=Object(n.useState)(b()),a=Object(s.a)(t,2),r=a[0],c=a[1];function o(e){var t=e.path,a=e.children;return Object(U.jsx)(i.b,{path:t,children:r?Object(U.jsx)(i.a,{to:"/"}):a})}function u(e){var t=e.path,a=e.children;return Object(U.jsx)(i.b,{path:t,children:r?a:Object(U.jsx)(i.a,{to:"/login"})})}return Object(n.useEffect)((function(){r||m()}),[r]),Object(U.jsx)(l.a,{children:Object(U.jsxs)(R.Provider,{children:[Object(U.jsx)(E,{user:r,setUser:c}),Object(U.jsx)("main",{className:e.main,children:Object(U.jsxs)(i.d,{children:[Object(U.jsx)(o,{path:"/login",children:Object(U.jsx)(Be,{setUser:c})}),Object(U.jsx)(u,{path:"/newPost",children:Object(U.jsx)(ze,{user:r})}),Object(U.jsx)(u,{path:"/posts/:postId",children:Object(U.jsx)(Ne,{user:r})}),Object(U.jsx)(u,{path:"/profile",children:Object(U.jsx)(He,{user:r})}),Object(U.jsx)(u,{path:"/",children:Object(U.jsx)(be,{user:r})})]})})]})})}var Ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,199)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(Je,{})}),document.getElementById("root")),Ye()}},[[141,1,2]]]);
//# sourceMappingURL=main.4189451f.chunk.js.map